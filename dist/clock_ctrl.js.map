{"version":3,"sources":["../src/clock_ctrl.js"],"names":["PanelCtrl","MetricsPanelCtrl","moment","_","rendering","panelDefaults","clockType","fontSize","fontWeight","bgColor","ClockCtrl","$scope","$injector","defaults","panel","updateClock","events","on","_onDataReceived","bind","data","console","log","scope","elem","attrs","ctrl","addEditorTab","time","format","$timeout","templateUrl"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAQA,e,kBAAAA,S;AAAWC,sB,kBAAAA,gB;;AACZC,Y;;AACAC,O;;AACAC,e;;;;;;;;;;;;;;;;;;;;;AAEDC,mB,GAAgB;AACpBC,mBAAW,SADS;AAEpBC,kBAAU,MAFU;AAGpBC,oBAAY,QAHQ;AAIpBC,iBAAS;AAJW,O;;2BAOTC,S;;;AACX,2BAAYC,MAAZ,EAAoBC,SAApB,EAA+B;AAAA;;AAAA,4HACvBD,MADuB,EACfC,SADe;;AAE7BT,YAAEU,QAAF,CAAW,MAAKC,KAAhB,EAAuBT,aAAvB;AACA,gBAAKU,WAAL;;AAEA,gBAAKC,MAAL,CAAYC,EAAZ,CACI,eADJ,EACqB,MAAKC,eAAL,CAAqBC,IAArB,OADrB;AAL6B;AAQ9B;;;;0CAEeC,I,EAAM;AAClBC,oBAAQC,GAAR,CAAYF,IAAZ;AACH;;;+BAEIG,K,EAAOC,I,EAAMC,K,EAAOC,I,EAAM;AAC7BL,oBAAQC,GAAR,CAAYC,KAAZ,EAAmBC,IAAnB,EAAyBC,KAAzB,EAAgCC,IAAhC;AACAtB,sBAAUmB,KAAV,EAAiBC,IAAjB,EAAuBC,KAAvB,EAA8BC,IAA9B;AACD;;;2CAEgB;AACf,iBAAKC,YAAL,CAAkB,SAAlB,EAA6B,8CAA7B,EAA6E,CAA7E;AACD;;;wCAEa;AAAA;;AACZ,iBAAKC,IAAL,GAAY1B,SAAS2B,MAAT,CAAgB,UAAhB,CAAZ;AACA,iBAAKC,QAAL,CAAc,YAAM;AAAE,qBAAKf,WAAL;AAAqB,aAA3C,EAA6C,IAA7C;AACD;;;;QA3B4Bd,gB;;;;AA8B/BS,gBAAUqB,WAAV,GAAwB,aAAxB","file":"clock_ctrl.js","sourcesContent":["import {PanelCtrl, MetricsPanelCtrl} from 'app/plugins/sdk';\nimport moment from 'moment';\nimport _ from 'lodash';\nimport rendering from './rendering';\n\nconst panelDefaults = {\n  clockType: '24 hour',\n  fontSize: '60px',\n  fontWeight: 'normal',\n  bgColor: null\n};\n\nexport class ClockCtrl extends MetricsPanelCtrl {\n  constructor($scope, $injector) {\n    super($scope, $injector);\n    _.defaults(this.panel, panelDefaults);\n    this.updateClock();\n\n    this.events.on(\n        'data-received', this._onDataReceived.bind(this)\n    );\n  }\n\n  _onDataReceived(data) {\n      console.log(data);\n  }\n\n  link(scope, elem, attrs, ctrl) {\n    console.log(scope, elem, attrs, ctrl);\n    rendering(scope, elem, attrs, ctrl);\n  }\n\n  onInitEditMode() {\n    this.addEditorTab('Options', 'public/plugins/test-clock-plugin/editor.html', 2);\n  }\n\n  updateClock() {\n    this.time = moment().format('hh:mm:ss');\n    this.$timeout(() => { this.updateClock(); }, 1000);\n  }\n}\n\nClockCtrl.templateUrl = 'module.html';\n"]}